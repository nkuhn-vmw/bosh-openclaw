---
processes:
  - name: openclaw-agent
    executable: /var/vcap/packages/openclaw/bin/openclaw
    args:
      - gateway
      - --config
      - /var/vcap/jobs/openclaw-agent/config/openclaw.json
    env:
      PATH: "/var/vcap/packages/node22/bin:/var/vcap/packages/openclaw/bin:/usr/bin:/bin"
      HOME: "/var/vcap/data/openclaw-agent"
      OPENCLAW_CONFIG_PATH: "/var/vcap/jobs/openclaw-agent/config/openclaw.json"
      OPENCLAW_HOME: "/var/vcap/data/openclaw-agent"
      OPENCLAW_STATE_DIR: "<%= p('openclaw.state_dir') %>"
      NODE_TLS_REJECT_UNAUTHORIZED: "0"
    limits:
      open_files: 65536
    persistent_disk: true
    additional_volumes:
      - path: /var/vcap/store/openclaw
        writable: true
      - path: /var/vcap/data/openclaw-agent
        writable: true
